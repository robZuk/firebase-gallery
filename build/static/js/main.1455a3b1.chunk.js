(this["webpackJsonpmoja-aplikacja"]=this["webpackJsonpmoja-aplikacja"]||[]).push([[0],{138:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),i=n.n(c),s=(n(138),n(27)),o=n(29),l=n(16),u=n(40),j=n(106),d=n(74),b=n(22),p=(Object(j.a)({apiKey:"AIzaSyCCPUXQHmJNeqn4SY3Uq9oglYXYNQtjZ8w",authDomain:"fir-gallery-dd503.firebaseapp.com",projectId:"fir-gallery-dd503",storageBucket:"fir-gallery-dd503.appspot.com",messagingSenderId:"950243924116",appId:"1:950243924116:web:a5fc51a5ab0d877b8cfc81"}),Object(d.b)()),m=Object(b.f)(),f=(Object(u.b)(),n(5)),O=r.a.createContext(),h=function(){return Object(a.useContext)(O)},x=Object(u.b)();function g(e){var t=e.children,n=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){return Object(u.c)(x,(function(e){o(!1),r(e)}))}),[n]),{currentUser:n,signup:function(e,t,n){return Object(u.a)(x,e,n).then((function(n){return r(n.user),Object(b.k)(Object(b.e)(m,"users",n.user.uid),{email:e,name:t,isAdmin:!1,id:n.user.uid}),Object(u.i)(x.currentUser,{displayName:t})}))},login:function(e,t){return Object(u.e)(x,e,t).then((function(e){return r(e.user),e.user}))},updateDisplayName:function(e){return Object(u.i)(x.currentUser,{displayName:e})},logout:function(){return Object(u.f)(x).then((function(){r(!1)}))},loading:s,resetPassword:function(e){return Object(u.d)(x,e)},updateUserEmail:function(e){return Object(u.g)(x.currentUser,e).then((function(e){console.log(e)}))},updateUserPassword:function(e){return Object(u.h)(x.currentUser,e).then((function(e){console.log(e)}))}}}();return Object(f.jsx)(O.Provider,{value:n,children:t})}var v,y,w,N,k,S,C,R,U,z,I=n(1),P=n.n(I),F=n(3),A=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),o=s[0],u=s[1],j=Object(a.useState)(null),m=Object(l.a)(j,2),f=m[0],O=m[1],h=Object(b.f)();return Object(a.useEffect)((function(){var t=Object(d.c)(p,e.name),n=Object(d.d)(t,e),a=n.on("state_changed",(function(e){console.log(e);var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){u(e)}),Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(n.snapshot.ref).then((function(e){O(e);var t=Object(b.j)(),n=Object(b.e)(Object(b.d)(h,"images"));Object(b.k)(n,{url:e,createdAt:t,id:n.id,likes:[],comments:[]})}));case 2:case"end":return e.stop()}}),e)}))));return function(){return a()}}),[e,h]),{progress:r,url:f,error:o}},E=n(200),D=n(91),q=function(e){var t=e.file,n=e.setFile,r=A(t),c=r.progress,i=r.url;return Object(a.useEffect)((function(){i&&n(null)}),[i,n]),Object(f.jsx)(E.a.div,{className:"progress-bar",initial:{width:0},animate:{width:c+"%"},style:{background:D.a[200],height:"5px",marginTop:"20px"}})},B=n(188),L=n(185),W=n(111),T=n.n(W),V=n(202),H=n(190),G=Object(L.a)((function(e){return{input:{display:"none",height:0,width:0,opacity:0},form:{margin:"40px auto",textAlign:"center"}}})),J=function(){var e=G(),t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),o=s[0],u=s[1],j=["image/png","image/jpeg"];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(E.a.form,{className:e.form,initial:{x:"calc(100vw + 50%)"},animate:{x:0},transition:{type:"spring",stiffness:100,delay:.2},children:[Object(f.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:function(e){var t=e.target.files[0];j.includes(t.type)?t.size>5e5?(c(null),u("Maximum size of file is 500 KB")):(c(t),u("")):(c(null),u("Please select an image file (png or jpg)"))}}),Object(f.jsx)("label",{htmlFor:"icon-button-file",children:Object(f.jsx)(B.a,{style:{fontSize:40,color:D.a[200]},"aria-label":"upload picture",component:"span",children:Object(f.jsx)(T.a,{style:{fontSize:40,color:D.a[200]}})})}),Object(f.jsxs)("div",{className:"output",children:[o&&Object(f.jsx)(V.a,{severity:"error",variant:"outlined",onClose:function(){u(null)},children:o}),r&&Object(f.jsx)(H.a,{variant:"body2",gutterBottom:!0,children:r.name}),r&&Object(f.jsx)(q,{file:r,setFile:c})]})]})})},M=n(24),Y=n(28),K=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(a.useEffect)((function(){var t=Object(b.i)(Object(b.d)(m,e),Object(b.h)("createdAt","desc")),n=Object(b.g)(t,(function(e){var t=[];e.forEach((function(e){t.push(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:e.id}))})),c(t),u(!1)}));return function(){return n()}}),[e,o]),{docs:r,loading:o}},Q=n(88),X=n.n(Q),$=n(115),Z=n.n($),_=n(25),ee=_.a.div(v||(v=Object(M.a)(["\n  margin: 20px auto;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n"]))),te=Object(_.a)(X.a)(y||(y=Object(M.a)(["\n  z-index: 1;\n  color: white;\n  opacity: 0;\n  transition: 0.3s linear;\n  grid-area: icon1;\n"]))),ne=Object(_.a)(Z.a)(w||(w=Object(M.a)(["\n  z-index: 1;\n  color: white;\n  opacity: 0;\n  transition: 0.3s linear;\n  grid-area: icon2;\n"]))),ae=_.a.div(N||(N=Object(M.a)(['\n  z-index: 1;\n  color: white;\n  font-family: "Roboto", sans-serif;\n  opacity: 0;\n  transition: 0.3s linear;\n  grid-area: number1;\n']))),re=_.a.div(k||(k=Object(M.a)(['\n  z-index: 1;\n  color: white;\n  font-family: "Roboto", sans-serif;\n  opacity: 0;\n  transition: 0.3s linear;\n  grid-area: number2;\n']))),ce=_.a.div(S||(S=Object(M.a)(["\n  width: 100%;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  overflow: hidden;\n  height: 0;\n  padding: 50% 0;\n  position: relative;\n  opacity: 0.8;\n\n  &:hover {\n    opacity: 1;\n    ",", ",", ",", "," {\n      opacity: 1;\n      transition: 0.1s linear;\n    }\n  }\n"])),ne,te,ae,re),ie=_.a.div(C||(C=Object(M.a)(['\n  width: 60%;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1fr 1fr 55px 1fr 1fr;\n  grid-template-areas: "icon1 number1 . icon2 number2";\n  justify-items: center;\n  align-items: center;\n']))),se=_.a.img(R||(R=Object(M.a)(["\n  min-width: 100%;\n  min-height: 100%;\n  max-width: 150%;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),oe=function(e){var t=e.setSelectedImg,n=K("images").docs;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ee,{children:n&&n.map((function(e){return Object(f.jsxs)(ce,{className:"img-wrap",onClick:function(){return t(e)},children:[Object(f.jsxs)(ie,{children:[Object(f.jsx)(te,{}),Object(f.jsx)(ae,{children:Object(f.jsx)("b",{children:e.likes?e.likes.length:0})}),Object(f.jsx)(ne,{}),Object(f.jsx)(re,{children:Object(f.jsx)("b",{children:e.comments?e.comments.length:0})})]}),Object(f.jsx)(se,{src:e.url,alt:"uploaded pic"})]},e.id)}))})})},le=n(117),ue=n.n(le);function je(e,t){return de.apply(this,arguments)}function de(){return(de=Object(F.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.l)(n,{comments:Object(b.b)(t)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(F.a)(P.a.mark((function e(t,n,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.l)(n,{comments:Object(b.c)({comment:t,createdAt:b.a.now(),name:a.displayName,userId:a.uid})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(F.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.l)(t,{likes:Object(b.b)(n.uid)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(F.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.l)(t,{likes:Object(b.c)(n.uid)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=_.a.div(U||(U=Object(M.a)(['\n  width: 100%;\n  display: grid;\n  grid-template-columns: 1fr 5fr 1fr 5fr;\n  justify-items: center;\n  align-items: center;\n  border-bottom: 1px solid gray;\n  @media (orientation: portrait) {\n    grid-template-columns: 1fr 4fr 1fr 4fr;\n  }\n  & p {\n    justify-self: start;\n    font-family: "Roboto", sans-serif;\n    font-style: italic;\n    font-weight: 400;\n    margin: 0;\n    padding: 0;\n  }\n']))),Oe=Object(_.a)(X.a)(z||(z=Object(M.a)(["\n  transition: 0.3s linear;\n  cursor: pointer;\n  color: ",";\n  font-size: 25px;\n  text-align: center;\n"])),(function(e){var t=e.$like;return"".concat(t?"lightgray":"salmon")}));var he,xe,ge,ve,ye,we,Ne,ke,Se,Ce,Re=function(e){var t=e.img,n=e.currentUser,r=e.imageRef,c=Object(o.g)(),i=Object(a.useState)(),s=Object(l.a)(i,2),u=s[0],j=s[1];return Object(a.useEffect)((function(){return t&&n&&t.likes.includes(n.uid)?j(!1):j(!0)}),[n,t]),Object(f.jsxs)(fe,{children:[Object(f.jsx)("div",{style:{position:"relative",display:"grid",alignItems:"center",justifyItems:"center"},children:Object(f.jsx)(E.a.i,{whileTap:{scale:1.2},style:{position:"absolute"},children:Object(f.jsx)(Oe,{onClick:function(){n&&u&&function(e,t){me.apply(this,arguments)}(r,n),n&&!u&&function(e,t){pe.apply(this,arguments)}(r,n),!n&&c.push("/login")},$like:u})})}),Object(f.jsxs)("p",{children:["Likes: ",t&&t.likes?t.likes.length:0," "]}),Object(f.jsx)(ue.a,{}),Object(f.jsxs)("p",{children:["Comments: ",t&&t.comments?t.comments.length:0," "]})]})},Ue=n(204),ze=n(118),Ie=n.n(ze),Pe=n(122),Fe=Object(L.a)((function(e){return{menu:{fontfamily:"Roboto sans-serif",fontStyle:"italic",fontWeight:"400",fontSize:"14px"}}})),Ae=function(e){var t=e.comment,n=e.imageRef,a=Fe(),c=r.a.useState(null),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Boolean(s),j=function(){o(null)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(B.a,{color:"inherit","aria-label":"menu","aria-controls":"menu-appbar",onClick:function(e){o(e.currentTarget)},children:Object(f.jsx)(Ie.a,{})}),Object(f.jsxs)(Pe.a,{id:"menu-appbar",anchorEl:s,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:j,children:[Object(f.jsx)(Ue.a,{onClick:function(e){console.log(je),je(t,n),j()},className:a.menu,children:"Delete Comment"}),Object(f.jsx)(Ue.a,{onClick:function(){j()},className:a.menu,children:"Close"})]})]})},Ee=n(119),De=n.n(Ee),qe=_.a.div(he||(he=Object(M.a)(['\n  width: 96%;\n  max-width: 100%;\n  margin: 2%;\n  font-family: "Roboto", sans-serif;\n  font-style: italic;\n  font-weight: 400;\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  & div {\n    margin-bottom: 3%;\n    & .announcement {\n      text-align: center;\n      margin-top: 80px;\n    }\n  }\n\n  /* & > div:nth-child(1) {\n    color: red;\n  } */\n  & div > div {\n    display: grid;\n    grid-template-columns: 5fr 1fr;\n    margin: 0;\n    width: 100%;\n    word-break: break-all;\n\n    div {\n      height: 100%;\n      width: 50%;\n    }\n  }\n']))),Be=_.a.div(xe||(xe=Object(M.a)(["\n  font-size: 12px;\n"]))),Le=function(e){var t=e.img,n=e.currentUser,a=e.imageRef,r=t&&t.comments.sort((function(e,t){return t.createdAt.seconds-e.createdAt.seconds}));return Object(f.jsx)(qe,{children:t&&0===r?Object(f.jsx)("p",{className:"announcement",children:"There is no any comment"}):t&&r.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("b",{children:[e.name," "]}),e.comment]}),n&&n.uid===e.userId&&Object(f.jsx)(Ae,{comment:e,imageRef:a})]}),Object(f.jsx)(Be,{children:De()(e.createdAt.toDate()).startOf("minutes").fromNow()})]},t)}))})},We=n(120),Te=n.n(We),Ve=_.a.div(ge||(ge=Object(M.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  align-items: center;\n  border-top: 1px solid gray;\n"]))),He=_.a.form(ve||(ve=Object(M.a)(["\n  margin: 1% 2%;\n"]))),Ge=_.a.textarea(ye||(ye=Object(M.a)(['\n  width: 90%;\n  line-height: 1.5;\n  border: none;\n  font-family: "Roboto", sans-serif;\n  font-style: italic;\n  font-weight: 400;\n  box-shadow: none;\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  &:focus {\n    outline: 0.3px;\n  }\n']))),Je=_.a.button(we||(we=Object(M.a)(["\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translate(0%, -50%);\n  border: 0;\n  background-color: inherit;\n  cursor: pointer;\n  color: darkgray;\n  transition: 0.3s;\n  :hover {\n    color: gray;\n  }\n"]))),Me=function(e){var t=e.currentUser,n=e.imageRef,r=Object(a.useRef)(),c=Object(o.g)();return Object(f.jsx)(Ve,{children:Object(f.jsxs)(He,{onSubmit:function(e){e.preventDefault(),""!==r.current.value&&function(e,t,n){be.apply(this,arguments)}(r.current.value,n,t),r.current.value=""},children:[Object(f.jsx)(Ge,{onFocus:function(){!t&&c.push("/login")},placeholder:"Add comment ...",ref:r,rows:"3"}),Object(f.jsx)(Je,{type:"submit",children:Object(f.jsx)(Te.a,{})})]})})},Ye=_.a.div(Ne||(Ne=Object(M.a)(["\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n"]))),Ke=Object(_.a)(E.a.div)(ke||(ke=Object(M.a)(["\n  position: relative;\n  margin: 20px auto;\n  width: 100%;\n  max-width: 756px;\n  max-height: 750px;\n  background: white;\n  overflow-x: hide;\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  box-shadow: 3px 5px 7px rgba(0, 0, 0, 0.3);\n  @media (max-width: 812px) and (orientation: landscape) {\n    max-width: 80vw;\n    max-height: 340px;\n  }\n  @media (max-width: 812px) and (orientation: portrait) {\n    max-height: 650px;\n  }\n"]))),Qe=_.a.img(Se||(Se=Object(M.a)(["\n  //z-index: 2;\n  width: 100%;\n  cursor: pointer;\n  object-fit: cover;\n"]))),Xe=_.a.div(Ce||(Ce=Object(M.a)(["\n  //z-index: 2;\n  margin: 0px;\n  width: 100%;\n  min-height: 200px;\n  display: grid;\n  grid-template-rows: 40px minmax(auto, 230px) 70px;\n"]))),$e=function(e){var t=e.setSelectedImg,n=e.selectedImg,r=K("images").docs,c=h().currentUser,i=Object(a.useState)(),s=Object(l.a)(i,2),o=s[0],u=s[1],j=Object(b.e)(m,"images",n.id);return Object(a.useEffect)((function(){r.forEach((function(e){return e.id===n.id&&u(e)}))}),[r,n.id,o]),Object(f.jsx)(Ye,{children:Object(f.jsxs)(Ke,{initial:{y:"-100vh"},animate:{y:0},children:[Object(f.jsx)(Qe,{src:n.url,alt:"enlarged pic",onClick:function(){t(null)}}),Object(f.jsxs)(Xe,{children:[Object(f.jsx)(Re,{img:o,currentUser:c,imageRef:j}),Object(f.jsx)(Le,{img:o,currentUser:c,imageRef:j}),Object(f.jsx)(Me,{img:o,currentUser:c,imageRef:j})]})]})})},Ze=n(191),_e=n(192),et=n(193),tt=n(121),nt=n.n(tt),at=Object(L.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{fontFamily:"Indie Flower, cursive",letterSpacing:"6px",flexGrow:1,color:"rgba(0, 0, 0, 0.87)"},bar:{background:"transparent",boxShadow:"none"},loginButton:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)",fontFamily:"Indie Flower, cursive",letterSpacing:"3px",fontSize:"18px"},menu:{fontFamily:"Indie Flower, cursive",letterSpacing:"3px"}}}));function rt(){var e=at(),t=r.a.useState(null),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Boolean(a),o=h(),u=o.currentUser,j=o.logout,d=function(){c(null)};function b(){return(b=Object(F.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:e.root,children:Object(f.jsx)(Ze.a,{position:"static",className:e.bar,children:Object(f.jsxs)(_e.a,{children:[Object(f.jsx)(H.a,{variant:"body2",className:e.title,children:u&&Object(f.jsxs)(f.Fragment,{children:["Hello ",Object(f.jsx)("b",{children:u.displayName})]})}),u?Object(f.jsxs)("div",{children:[Object(f.jsx)(B.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},children:Object(f.jsx)(nt.a,{className:e.profile})}),Object(f.jsxs)(Pe.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:d,children:[Object(f.jsx)(Ue.a,{onClick:d,className:e.menu,children:Object(f.jsx)(s.b,{to:"/profile",children:Object(f.jsx)("b",{children:"Profile"})})}),Object(f.jsx)(Ue.a,{onClick:function(e){d(),function(e){b.apply(this,arguments)}(e)},className:e.menu,children:Object(f.jsx)("b",{children:"Logout"})})]})]}):Object(f.jsx)(et.a,{children:Object(f.jsx)(s.b,{className:e.loginButton,to:"/login",children:Object(f.jsx)("b",{children:"Login"})})})]})})})})}var ct=Object(L.a)((function(e){return{root:{width:"100%",textAlign:"center"},title:{letterSpacing:"12px",fontFamily:"Amatic SC, cursive",fontWeight:"700"}}})),it=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=h().currentUser,i=ct();return Object(f.jsxs)("div",{children:[Object(f.jsx)(rt,{}),Object(f.jsx)(E.a.div,{className:i.root,initial:{x:"calc(-100vw - 50%)"},animate:{x:0},transition:{type:"spring",stiffness:100,delay:.2},children:Object(f.jsx)(H.a,{className:i.title,variant:"h3",component:"h2",style:{color:D.a[600]},children:"Photos Gallery"})}),c&&Object(f.jsx)(J,{}),Object(f.jsx)(oe,{setSelectedImg:r}),n&&Object(f.jsx)($e,{selectedImg:n,setSelectedImg:r})]})},st=n(197),ot=n(198),lt=n(199),ut=n(201),jt=n(195),dt=n(196),bt=n(203),pt=n(194),mt=Object(L.a)((function(e){return{root:{minWidth:300,fontFamily:"Roboto",fontWeight:400},container:{minHeight:"95vh"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ft(e){var t=e.children,n=e.loading,a=mt();return Object(f.jsx)("div",{className:a.root,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(bt.a,{className:a.backdrop,open:n,children:Object(f.jsx)(pt.a,{color:"inherit"})}),Object(f.jsx)(jt.a,{className:a.container,container:!0,direction:"column",justifyContent:"center",alignItems:"center",display:"flex",children:Object(f.jsx)(dt.a,{maxWidth:"sm",children:Object(f.jsx)(E.a.div,{className:a.motionDiv,initial:{x:"calc(-100vw - 50%)"},animate:{x:0},transition:{type:"spring",stiffness:100,delay:.2},children:t})})})]})})}var Ot=Object(L.a)((function(e){return{root:{color:"gray"},button:{margin:e.spacing(1),justifyContent:"flex-start"},text:Object(Y.a)(Object(Y.a)({},e.typography.button),{},{padding:e.spacing(1),width:"100%",textAlign:"center"}),input:{padding:"12px 0"},alert:{margin:"12px 0"}}})),ht=function(){var e=Ot(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useRef)(),i=h().signup,u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],b=j[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),O=m[0],x=m[1],g=Object(o.g)();function v(){return(v=Object(F.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.current.value===c.current.value){e.next=3;break}return e.abrupt("return",b("Passwords do not match"));case 3:return e.prev=3,b(""),x(!0),e.next=8,i(t.current.value,r.current.value,n.current.value);case 8:g.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),b(e.t0.message);case 14:x(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(f.jsxs)(ft,{loading:O,children:[Object(f.jsx)(st.a,{className:e.root,variant:"outlined",children:Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(H.a,{variant:"h5",component:"h2",children:"Sign Up"}),d&&Object(f.jsx)(V.a,{className:e.alert,severity:"error",children:d}),Object(f.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(f.jsxs)(lt.a,{children:[Object(f.jsx)(ut.a,{type:"email",label:"Email",required:!0,inputRef:t,className:e.input}),Object(f.jsx)(ut.a,{type:"text",label:"Name",required:!0,inputRef:r,className:e.input}),Object(f.jsx)(ut.a,{type:"password",label:"Password",required:!0,inputRef:n,className:e.input}),Object(f.jsx)(ut.a,{type:"password",label:"Password Confirmation",required:!0,inputRef:c,className:e.input})]}),Object(f.jsx)(et.a,{className:e.button,disabled:O,variant:"outlined",size:"small",type:"submit",children:"Sign Up"})]})]})}),Object(f.jsx)("div",{className:e.text,style:{textAlign:"left"},children:Object(f.jsx)(s.b,{to:"/",children:"Cancel"})})]})},xt=Object(L.a)((function(e){return{root:{color:"gray"},button:{margin:e.spacing(1),justifyContent:"flex-start"},text:Object(Y.a)(Object(Y.a)({},e.typography.button),{},{padding:e.spacing(1),width:"100%",textAlign:"center"}),input:{padding:"12px 0"},alert:{margin:"12px 0"}}})),gt=function(){var e=xt(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=h().login,c=Object(a.useState)(""),i=Object(l.a)(c,2),u=i[0],j=i[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),p=b[0],m=b[1],O=Object(o.g)();function x(){return(x=Object(F.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,j(""),m(!0),e.next=6,r(t.current.value,n.current.value);case 6:O.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),j(e.t0.message),m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(f.jsxs)(ft,{loading:p,children:[Object(f.jsx)(st.a,{className:e.root,variant:"outlined",children:Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(H.a,{variant:"h5",component:"h2",children:"Login"}),u&&Object(f.jsx)(V.a,{className:e.alert,severity:"error",children:u}),Object(f.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return x.apply(this,arguments)},children:[Object(f.jsxs)(lt.a,{children:[Object(f.jsx)(ut.a,{type:"email",label:"Email",required:!0,inputRef:t,id:"standard-basic",className:e.input}),Object(f.jsx)(ut.a,{type:"password",label:"Password",required:!0,inputRef:n,className:e.input})]}),Object(f.jsx)(et.a,{className:e.button,disabled:p,variant:"outlined",size:"small",type:"submit",children:"Login"})]}),Object(f.jsx)("div",{className:e.text,children:Object(f.jsx)(s.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(f.jsx)("div",{className:e.text,style:{textAlign:"left"},children:Object(f.jsx)(s.b,{to:"/",children:"Cancel"})}),Object(f.jsxs)("div",{className:e.text,children:["Need an account? ",Object(f.jsx)(s.b,{to:"/signup",children:"Sign Up"})]})]})},vt=Object(L.a)((function(e){return{root:{color:"gray"},button:{margin:e.spacing(1),justifyContent:"flex-start"},text:Object(Y.a)(Object(Y.a)({},e.typography.button),{},{padding:e.spacing(1),width:"100%"}),input:{padding:"12px 0"},alert:{margin:"12px 0"}}})),yt=function(){var e=vt(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],i=h(),u=i.currentUser,j=i.logout,d=Object(a.useState)(!1),b=Object(l.a)(d,2),p=b[0],m=b[1],O=Object(o.g)();function x(){return(x=Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),m(!0),e.prev=2,e.next=5,j();case 5:O.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c("Failed to log out");case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(f.jsxs)(ft,{loading:p,children:[Object(f.jsxs)(st.a,{className:e.root,variant:"outlined",children:[Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(H.a,{variant:"h5",component:"h2",children:"Profile"}),r&&Object(f.jsx)(V.a,{className:e.alert,severity:"error",children:r}),Object(f.jsxs)(H.a,{variant:"body1",children:["Email: ",u&&u.email]}),Object(f.jsx)("div",{className:e.text,children:Object(f.jsx)(s.b,{to:"/update-profile",children:"Update Profile"})})]}),Object(f.jsx)(et.a,{onClick:function(){return x.apply(this,arguments)},className:e.button,disabled:p,variant:"outlined",size:"small",type:"submit",children:"Log Out"})]}),Object(f.jsx)("div",{className:e.text,children:Object(f.jsx)(s.b,{to:"/",children:"Cancel"})})]})},wt=Object(L.a)((function(e){return{root:{minWidth:300,color:"gray"},container:{minHeight:"95vh"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)",fontFamily:"Indie Flower, cursive",letterSpacing:"3px"},button:{margin:e.spacing(1),justifyContent:"flex-start"},pos:{marginBottom:12},text:Object(Y.a)(Object(Y.a)({},e.typography.button),{},{backgroundColor:e.palette.background.paper,padding:e.spacing(1),width:"100%",textAlign:"center"}),input:{padding:"12px 0"},alert:{margin:"12px 0"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Nt=function(){var e=wt(),t=Object(a.useRef)(),n=h().resetPassword,r=Object(a.useState)(""),c=Object(l.a)(r,2),i=c[0],o=c[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],b=j[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),O=m[0],x=m[1];function g(){return(g=Object(F.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,b(""),o(""),x(!0),e.next=7,n(t.current.value);case 7:b("Check your inbox for further instructions"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o("Failed to reset password");case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:e.root,children:[Object(f.jsx)("div",{children:Object(f.jsx)(bt.a,{className:e.backdrop,open:O,children:Object(f.jsx)(pt.a,{color:"inherit"})})}),Object(f.jsx)(jt.a,{className:e.container,container:!0,direction:"column",justifyContent:"center",alignItems:"center",display:"flex",children:Object(f.jsx)(dt.a,{maxWidth:"sm",children:Object(f.jsxs)(E.a.div,{className:e.motionDiv,initial:{x:"calc(-100vw - 50%)"},animate:{x:0},transition:{type:"spring",stiffness:100,delay:.2},children:[Object(f.jsx)(st.a,{className:e.root,variant:"outlined",children:Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(H.a,{variant:"h5",component:"h2",children:"Password Reset"}),i&&Object(f.jsx)(V.a,{className:e.alert,severity:"error",children:i}),d&&Object(f.jsx)(V.a,{className:e.alert,severity:"success",children:d}),Object(f.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(f.jsx)(lt.a,{children:Object(f.jsx)(ut.a,{type:"email",label:"Email",required:!0,inputRef:t,id:"standard-basic",className:e.input})}),Object(f.jsx)(et.a,{className:e.button,disabled:O,variant:"outlined",size:"small",type:"submit",children:"Reset Password"})]}),Object(f.jsx)("div",{className:e.text,children:Object(f.jsx)(s.b,{to:"/login",children:"Login"})})]})}),Object(f.jsx)("div",{className:e.text,style:{textAlign:"left"},children:Object(f.jsx)(s.b,{to:"/",children:"Cancel"})}),Object(f.jsxs)("div",{className:e.text,children:["Need an account? ",Object(f.jsx)(s.b,{to:"/signup",children:"Sign Up"})]})]})})})]})},kt=Object(L.a)((function(e){return{root:{color:"gray"},button:{margin:e.spacing(1),justifyContent:"flex-start"},pos:{marginBottom:12},text:Object(Y.a)(Object(Y.a)({},e.typography.button),{},{padding:e.spacing(1)}),input:{padding:"12px 0"},alert:{margin:"12px 0"}}})),St=function(){var e=kt(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useRef)(),i=Object(a.useState)(""),u=Object(l.a)(i,2),j=u[0],d=u[1],b=Object(a.useState)(!1),p=Object(l.a)(b,2),m=p[0],O=p[1],x=h(),g=x.currentUser,v=x.updateUserPassword,y=x.updateUserEmail,w=x.updateDisplayName,N=Object(o.g)();function k(){return k=Object(F.a)(P.a.mark((function e(a){var i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n.current.value===c.current.value){e.next=3;break}return e.abrupt("return",d("Passwords do not match"));case 3:i=[],O(!0),d(""),t.current.value!==g.email&&i.push(y(t.current.value)),n.current.value&&i.push(v(n.current.value)),r.current.value!==g.displayName&&i.push(w(r.current.value)),Promise.all(i).then((function(){N.push("/")})).catch((function(e){d(e.message)})).finally((function(){O(!1)}));case 10:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}return Object(f.jsxs)(ft,{loading:m,children:[Object(f.jsx)(st.a,{className:e.root,variant:"outlined",children:Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(H.a,{variant:"h5",component:"h2",children:"Update Profile"}),j&&Object(f.jsx)(V.a,{className:e.alert,severity:"error",children:j}),Object(f.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return k.apply(this,arguments)},children:[Object(f.jsxs)(lt.a,{children:[Object(f.jsx)(ut.a,{type:"email",label:"Email",required:!0,inputRef:t,className:e.input,defaultValue:g&&g.email}),Object(f.jsx)(ut.a,{type:"text",label:"Name",required:!0,inputRef:r,className:e.input,defaultValue:g&&g.displayName}),Object(f.jsx)(ut.a,{type:"password",label:"Password",required:!0,inputRef:n,className:e.input,placeholder:"Leave blank to keep the same"}),Object(f.jsx)(ut.a,{type:"password",label:"Password Confirmation",required:!0,inputRef:c,className:e.input,placeholder:"Leave blank to keep the same"})]}),Object(f.jsx)(et.a,{className:e.button,disabled:m,variant:"outlined",size:"small",type:"submit",children:"Update"})]})]})}),Object(f.jsx)("div",{className:e.text,children:Object(f.jsx)(s.b,{to:"/",children:"Cancel"})})]})},Ct=n(123),Rt=["component"];function Ut(e){var t=e.component,n=Object(Ct.a)(e,Rt),a=h().currentUser;return Object(f.jsx)(o.b,Object(Y.a)(Object(Y.a)({},n),{},{render:function(e){return a?Object(f.jsx)(t,Object(Y.a)({},e)):Object(f.jsx)(o.a,{to:"/login"})}}))}var zt=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(dt.a,{maxWidth:"lg",children:Object(f.jsx)(s.a,{children:Object(f.jsx)(g,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{exact:!0,path:"/",component:it}),Object(f.jsx)(o.b,{path:"/signup",component:ht}),Object(f.jsx)(o.b,{path:"/login",component:gt}),Object(f.jsx)(Ut,{exact:!0,path:"/profile",component:yt}),Object(f.jsx)(Ut,{path:"/update-profile",component:St}),Object(f.jsx)(Ut,{path:"/forgot-password",component:Nt})]})})})})})};i.a.render(Object(f.jsx)(zt,{}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.1455a3b1.chunk.js.map