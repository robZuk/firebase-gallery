{"version":3,"sources":["firebase/config.js","hooks/useAuth.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","hooks/useFirestore.js","comps/ImageGrid.js","firebase/firestore.js","comps/Modal/Likes&Comments.js","comps/Modal/CommentMenu.js","comps/Modal/Comments.js","comps/Modal/AddComment.js","comps/Modal/Modal.js","comps/Navigation.js","comps/Gallery.js","layouts/FormAnimation.js","comps/Signup.js","comps/Login.js","comps/Profile.js","comps/ForgotPassword.js","comps/UpdateProfile.js","comps/PrivateRoute.js","App.js","index.js"],"names":["storage","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getStorage","db","getFirestore","getAuth","AuthContext","React","createContext","useAuth","useContext","auth","ProvideAuth","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","signup","email","username","password","createUserWithEmailAndPassword","then","response","setDoc","doc","uid","name","isAdmin","id","updateProfile","displayName","login","signInWithEmailAndPassword","updateDisplayName","logout","signOut","resetPassword","sendPasswordResetEmail","updateUserEmail","updateEmail","console","log","updateUserPassword","updatePassword","useProvideAuth","Provider","value","useStorage","file","progress","setProgress","error","setError","url","setUrl","storageRef","ref","uploadTask","uploadBytesResumable","unsub","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","snapshot","createdAt","serverTimestamp","newImageRef","collection","likes","comments","ProgressBar","setFile","motion","div","className","initial","width","animate","style","background","red","height","marginTop","useStyles","makeStyles","theme","input","display","opacity","form","margin","textAlign","UploadForm","classes","types","x","transition","type","stiffness","delay","accept","onChange","e","selected","target","files","includes","size","htmlFor","IconButton","fontSize","color","component","Alert","severity","variant","onClose","Typography","gutterBottom","useFirestore","images","docs","setDocs","q","query","orderBy","onSnapshot","documents","forEach","push","data","StyledGrid","styled","StyledFavoriteIcon","FavoriteIcon","StyledModeCommentIcon","ModeCommentIcon","StyledLikesNumber","StyledCommentsNumber","StyledImgWrapper","StyledIconWrapper","StyledImg","img","ImageGrid","setSelectedImg","map","onClick","length","src","alt","deleteComment","comment","imageRef","updateDoc","arrayRemove","arrayUnion","Timestamp","now","userId","StyledWrapper","$like","LikesAndComments","history","useHistory","like","setLike","position","alignItems","justifyItems","i","whileTap","scale","addLike","deleteLike","menu","fontfamily","fontStyle","fontWeight","CommentMenu","anchorEl","setAnchorEl","open","Boolean","handleClose","event","currentTarget","Menu","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","StyledDate","Comments","sortedByComments","sort","b","seconds","index","moment","toDate","startOf","fromNow","StyledForm","StyledTextarea","textarea","StyledButton","button","AddComment","textareaRef","useRef","onSubmit","preventDefault","current","addComment","onFocus","placeholder","rows","StyledBackdrop","StyledAnimation","Wrapper","Modal","selectedImg","image","setImage","y","root","flexGrow","menuButton","marginRight","spacing","title","fontFamily","letterSpacing","bar","boxShadow","loginButton","textDecoration","MenuAppBar","AppBar","Toolbar","profile","to","handleLogout","Button","Gallery","minWidth","container","minHeight","backdrop","zIndex","drawer","FormContainer","Backdrop","CircularProgress","Grid","direction","justifyContent","Container","maxWidth","motionDiv","text","typography","padding","alert","Signup","emailRef","passwordRef","nameRef","passwordConfirmRef","message","Card","CardContent","noValidate","autoComplete","FormGroup","TextField","label","required","inputRef","disabled","Login","Profile","bullet","transform","pos","marginBottom","backgroundColor","palette","paper","ForgotPassword","setMessage","UpdateProfile","promises","Promise","all","catch","finally","defaultValue","PrivateRoute","Component","rest","render","props","App","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1455a3b1.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\n// TODO: Replace the following with your app's Firebase project configuration\r\nconst firebaseConfig = {\r\n  // apiKey: \"AIzaSyB3fpQpAIOilvoodDWZoP1nJ4Jvjw7u4Bk\",\r\n  // authDomain: \"ninja-firegram-8c985.firebaseapp.com\",\r\n  // projectId: \"ninja-firegram-8c985\",\r\n  // storageBucket: \"ninja-firegram-8c985.appspot.com\",\r\n  // messagingSenderId: \"86712374070\",\r\n  // appId: \"1:86712374070:web:a94c3a46184fdaec40d997\",\r\n\r\n  apiKey: \"AIzaSyCCPUXQHmJNeqn4SY3Uq9oglYXYNQtjZ8w\",\r\n  authDomain: \"fir-gallery-dd503.firebaseapp.com\",\r\n  projectId: \"fir-gallery-dd503\",\r\n  storageBucket: \"fir-gallery-dd503.appspot.com\",\r\n  messagingSenderId: \"950243924116\",\r\n  appId: \"1:950243924116:web:a5fc51a5ab0d877b8cfc81\",\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst storage = getStorage();\r\nconst db = getFirestore();\r\nconst auth = getAuth();\r\n\r\nexport { storage, app, db, auth };\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  sendPasswordResetEmail,\r\n  onAuthStateChanged,\r\n  updateProfile,\r\n  updateEmail,\r\n  updatePassword,\r\n} from \"firebase/auth\";\r\n\r\nimport { db } from \"../firebase/config\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nconst auth = getAuth();\r\n\r\nexport const useProvideAuth = () => {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState();\r\n\r\n  function signup(email, username, password) {\r\n    const signup = createUserWithEmailAndPassword(auth, email, password).then(\r\n      (response) => {\r\n        // Signed in\r\n        setCurrentUser(response.user);\r\n        setDoc(doc(db, \"users\", response.user.uid), {\r\n          email,\r\n          name: username,\r\n          isAdmin: false,\r\n          id: response.user.uid,\r\n        });\r\n        return (response = updateProfile(auth.currentUser, {\r\n          displayName: username,\r\n        }));\r\n      }\r\n    );\r\n\r\n    return signup;\r\n  }\r\n\r\n  function updateDisplayName(username) {\r\n    return updateProfile(auth.currentUser, {\r\n      displayName: username,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setLoading(false);\r\n      setCurrentUser(user);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [currentUser]);\r\n\r\n  function login(email, password) {\r\n    return signInWithEmailAndPassword(auth, email, password).then(\r\n      (response) => {\r\n        setCurrentUser(response.user);\r\n        return response.user;\r\n      }\r\n    );\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return sendPasswordResetEmail(auth, email);\r\n  }\r\n\r\n  function updateUserEmail(email) {\r\n    return updateEmail(auth.currentUser, email).then((response) => {\r\n      console.log(response);\r\n    });\r\n  }\r\n\r\n  function updateUserPassword(password) {\r\n    return updatePassword(auth.currentUser, password).then((response) => {\r\n      console.log(response);\r\n    });\r\n  }\r\n\r\n  function logout() {\r\n    return signOut(auth).then(() => {\r\n      setCurrentUser(false);\r\n    });\r\n  }\r\n\r\n  return {\r\n    currentUser,\r\n    signup,\r\n    login,\r\n    updateDisplayName,\r\n    logout,\r\n    loading,\r\n    resetPassword,\r\n    updateUserEmail,\r\n    updateUserPassword,\r\n  };\r\n};\r\n\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { storage } from \"../firebase/config\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\n\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  serverTimestamp,\r\n  setDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nconst useStorage = (file) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  const db = getFirestore();\r\n\r\n  useEffect(() => {\r\n    const storageRef = ref(storage, file.name);\r\n\r\n    const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n    const unsub = uploadTask.on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        console.log(snap);\r\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(percentage);\r\n      },\r\n\r\n      (err) => {\r\n        setError(err);\r\n      },\r\n      async () => {\r\n        await getDownloadURL(uploadTask.snapshot.ref).then((url) => {\r\n          setUrl(url);\r\n          const createdAt = serverTimestamp();\r\n          const newImageRef = doc(collection(db, \"images\"));\r\n          setDoc(newImageRef, {\r\n            url,\r\n            createdAt,\r\n            id: newImageRef.id,\r\n            likes: [],\r\n            comments: [],\r\n          });\r\n        });\r\n      }\r\n    );\r\n    return () => unsub();\r\n  }, [file, db]);\r\n\r\n  return { progress, url, error };\r\n};\r\n\r\nexport default useStorage;\r\n","import React, { useEffect } from \"react\";\r\nimport useStorage from \"../hooks/useStorage\";\r\nimport { motion } from \"framer-motion\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { red } from \"@material-ui/core/colors\";\r\n\r\nconst ProgressBar = ({ file, setFile }) => {\r\n  const { progress, url } = useStorage(file);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      setFile(null);\r\n    }\r\n  }, [url, setFile]);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"progress-bar\"\r\n      initial={{ width: 0 }}\r\n      animate={{ width: progress + \"%\" }}\r\n      style={{ background: red[200], height: \"5px\", marginTop: \"20px\" }}\r\n    ></motion.div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","import React, { useState } from \"react\";\r\nimport ProgressBar from \"./ProgressBar\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { red } from \"@material-ui/core/colors\";\r\n\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    display: \"none\",\r\n    height: 0,\r\n    width: 0,\r\n    opacity: 0,\r\n  },\r\n\r\n  form: {\r\n    margin: \"40px auto\",\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\nconst UploadForm = () => {\r\n  const classes = useStyles();\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const types = [\"image/png\", \"image/jpeg\"];\r\n\r\n  const changeHandler = (e) => {\r\n    let selected = e.target.files[0];\r\n\r\n    if (!types.includes(selected.type)) {\r\n      setFile(null);\r\n      setError(\"Please select an image file (png or jpg)\");\r\n    } else if (selected.size > 500000) {\r\n      setFile(null);\r\n      setError(\"Maximum size of file is 500 KB\");\r\n    } else {\r\n      setFile(selected);\r\n      setError(\"\");\r\n    }\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <motion.form\r\n        className={classes.form}\r\n        initial={{ x: \"calc(100vw + 50%)\" }}\r\n        animate={{ x: 0 }}\r\n        transition={{\r\n          type: \"spring\",\r\n          stiffness: 100,\r\n          delay: 0.2,\r\n        }}\r\n      >\r\n        <input\r\n          accept=\"image/*\"\r\n          className={classes.input}\r\n          id=\"icon-button-file\"\r\n          type=\"file\"\r\n          onChange={changeHandler}\r\n        />\r\n        <label htmlFor=\"icon-button-file\">\r\n          <IconButton\r\n            style={{ fontSize: 40, color: red[200] }}\r\n            aria-label=\"upload picture\"\r\n            component=\"span\"\r\n          >\r\n            <AddCircleOutlineIcon style={{ fontSize: 40, color: red[200] }} />\r\n          </IconButton>\r\n        </label>\r\n\r\n        <div className=\"output\">\r\n          {error && (\r\n            <Alert\r\n              severity=\"error\"\r\n              variant=\"outlined\"\r\n              onClose={() => {\r\n                closeAlert();\r\n              }}\r\n            >\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          {file && (\r\n            <Typography variant=\"body2\" gutterBottom>\r\n              {file.name}\r\n            </Typography>\r\n          )}\r\n          {file && <ProgressBar file={file} setFile={setFile} />}\r\n        </div>\r\n      </motion.form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadForm;\r\n","import { useState, useEffect } from \"react\";\r\nimport { db } from \"../firebase/config\";\r\nimport { collection, query, orderBy, onSnapshot } from \"firebase/firestore\";\r\n\r\nconst useFirestore = (images) => {\r\n  const [docs, setDocs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, images), orderBy(\"createdAt\", \"desc\"));\r\n    const unsub = onSnapshot(q, (snap) => {\r\n      let documents = [];\r\n      snap.forEach((doc) => {\r\n        documents.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      setDocs(documents);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsub();\r\n    // this is a cleanup function that react will run when\r\n    // a component using the hook unmounts\r\n  }, [images, loading]);\r\n\r\n  return { docs, loading };\r\n};\r\n\r\nexport default useFirestore;\r\n","import React from \"react\";\r\nimport useFirestore from \"../hooks/useFirestore\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ModeCommentIcon from \"@material-ui/icons/ModeComment\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledGrid = styled.div`\r\n  margin: 20px auto;\r\n  display: grid;\r\n  grid-gap: 1rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n`;\r\n\r\nconst StyledFavoriteIcon = styled(FavoriteIcon)`\r\n  z-index: 1;\r\n  color: white;\r\n  opacity: 0;\r\n  transition: 0.3s linear;\r\n  grid-area: icon1;\r\n`;\r\n\r\nconst StyledModeCommentIcon = styled(ModeCommentIcon)`\r\n  z-index: 1;\r\n  color: white;\r\n  opacity: 0;\r\n  transition: 0.3s linear;\r\n  grid-area: icon2;\r\n`;\r\nconst StyledLikesNumber = styled.div`\r\n  z-index: 1;\r\n  color: white;\r\n  font-family: \"Roboto\", sans-serif;\r\n  opacity: 0;\r\n  transition: 0.3s linear;\r\n  grid-area: number1;\r\n`;\r\nconst StyledCommentsNumber = styled.div`\r\n  z-index: 1;\r\n  color: white;\r\n  font-family: \"Roboto\", sans-serif;\r\n  opacity: 0;\r\n  transition: 0.3s linear;\r\n  grid-area: number2;\r\n`;\r\n\r\nconst StyledImgWrapper = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  justify-items: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  height: 0;\r\n  padding: 50% 0;\r\n  position: relative;\r\n  opacity: 0.8;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n    ${StyledModeCommentIcon}, ${StyledFavoriteIcon}, ${StyledLikesNumber}, ${StyledCommentsNumber} {\r\n      opacity: 1;\r\n      transition: 0.1s linear;\r\n    }\r\n  }\r\n`;\r\nconst StyledIconWrapper = styled.div`\r\n  width: 60%;\r\n  display: grid;\r\n  grid-gap: 1rem;\r\n  grid-template-columns: 1fr 1fr 55px 1fr 1fr;\r\n  grid-template-areas: \"icon1 number1 . icon2 number2\";\r\n  justify-items: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledImg = styled.img`\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  max-width: 150%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n`;\r\n\r\nconst ImageGrid = ({ setSelectedImg }) => {\r\n  const { docs } = useFirestore(\"images\");\r\n  return (\r\n    <>\r\n      <StyledGrid>\r\n        {docs &&\r\n          docs.map((doc) => (\r\n            <StyledImgWrapper\r\n              className=\"img-wrap\"\r\n              key={doc.id}\r\n              onClick={() => setSelectedImg(doc)}\r\n            >\r\n              <StyledIconWrapper>\r\n                <StyledFavoriteIcon />\r\n                <StyledLikesNumber>\r\n                  <b>{doc.likes ? doc.likes.length : 0}</b>\r\n                </StyledLikesNumber>\r\n                <StyledModeCommentIcon />\r\n                <StyledCommentsNumber>\r\n                  <b>{doc.comments ? doc.comments.length : 0}</b>\r\n                </StyledCommentsNumber>\r\n              </StyledIconWrapper>\r\n              <StyledImg src={doc.url} alt=\"uploaded pic\" />\r\n            </StyledImgWrapper>\r\n          ))}\r\n      </StyledGrid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGrid;\r\n","import {\r\n  arrayRemove,\r\n  updateDoc,\r\n  arrayUnion,\r\n  Timestamp,\r\n} from \"firebase/firestore\";\r\n\r\nasync function deleteComment(comment, imageRef) {\r\n  await updateDoc(imageRef, {\r\n    comments: arrayRemove(comment),\r\n  });\r\n}\r\n\r\nasync function addComment(comment, imageRef, currentUser) {\r\n  await updateDoc(imageRef, {\r\n    comments: arrayUnion({\r\n      comment: comment,\r\n      createdAt: Timestamp.now(),\r\n      name: currentUser.displayName,\r\n      userId: currentUser.uid,\r\n    }),\r\n  });\r\n}\r\n\r\nasync function deleteLike(imageRef, currentUser) {\r\n  await updateDoc(imageRef, {\r\n    likes: arrayRemove(currentUser.uid),\r\n  });\r\n}\r\n\r\nasync function addLike(imageRef, currentUser) {\r\n  await updateDoc(imageRef, {\r\n    likes: arrayUnion(currentUser.uid),\r\n  });\r\n}\r\n\r\nexport { deleteComment, addComment, addLike, deleteLike };\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\r\nimport { addLike, deleteLike } from \"../../firebase/firestore\";\r\nimport { motion } from \"framer-motion\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledWrapper = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 5fr 1fr 5fr;\r\n  justify-items: center;\r\n  align-items: center;\r\n  border-bottom: 1px solid gray;\r\n  @media (orientation: portrait) {\r\n    grid-template-columns: 1fr 4fr 1fr 4fr;\r\n  }\r\n  & p {\r\n    justify-self: start;\r\n    font-family: \"Roboto\", sans-serif;\r\n    font-style: italic;\r\n    font-weight: 400;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst StyledFavoriteIcon = styled(FavoriteIcon)`\r\n  transition: 0.3s linear;\r\n  cursor: pointer;\r\n  color: ${({ $like }) => `${!$like ? \"salmon\" : \"lightgray\"}`};\r\n  font-size: 25px;\r\n  text-align: center;\r\n`;\r\n\r\nfunction LikesAndComments({ img, currentUser, imageRef }) {\r\n  const history = useHistory();\r\n  const [like, setLike] = useState();\r\n\r\n  useEffect(() => {\r\n    return img && currentUser && img.likes.includes(currentUser.uid)\r\n      ? setLike(false)\r\n      : setLike(true);\r\n  }, [currentUser, img]);\r\n\r\n  function updateLike() {\r\n    currentUser && like && addLike(imageRef, currentUser);\r\n    currentUser && !like && deleteLike(imageRef, currentUser);\r\n    !currentUser && history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <div\r\n        style={{\r\n          position: \"relative\",\r\n          display: \"grid\",\r\n          alignItems: \"center\",\r\n          justifyItems: \"center\",\r\n        }}\r\n      >\r\n        <motion.i whileTap={{ scale: 1.2 }} style={{ position: \"absolute\" }}>\r\n          <StyledFavoriteIcon onClick={updateLike} $like={like} />\r\n        </motion.i>\r\n      </div>\r\n      <p>Likes: {img && img.likes ? img.likes.length : 0} </p>\r\n      <ChatBubbleOutlineIcon />\r\n      <p>Comments: {img && img.comments ? img.comments.length : 0} </p>\r\n    </StyledWrapper>\r\n  );\r\n}\r\nexport default LikesAndComments;\r\n","import React from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deleteComment } from \"../../firebase/firestore\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  menu: {\r\n    fontfamily: \"Roboto sans-serif\",\r\n    fontStyle: \"italic\",\r\n    fontWeight: \"400\",\r\n    fontSize: \"14px\",\r\n  },\r\n}));\r\n\r\nconst CommentMenu = ({ comment, imageRef }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"menu\"\r\n        aria-controls=\"menu-appbar\"\r\n        onClick={handleMenu}\r\n      >\r\n        <MoreHorizIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem\r\n          onClick={(e) => {\r\n            console.log(deleteComment);\r\n            deleteComment(comment, imageRef);\r\n            handleClose();\r\n          }}\r\n          className={classes.menu}\r\n        >\r\n          Delete Comment\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => {\r\n            handleClose();\r\n          }}\r\n          className={classes.menu}\r\n        >\r\n          Close\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu;\r\n","import React from \"react\";\r\nimport CommentMenu from \"./CommentMenu\";\r\nimport styled from \"styled-components\";\r\nimport moment from \"moment\";\r\n\r\nconst StyledWrapper = styled.div`\r\n  width: 96%;\r\n  max-width: 100%;\r\n  margin: 2%;\r\n  font-family: \"Roboto\", sans-serif;\r\n  font-style: italic;\r\n  font-weight: 400;\r\n  overflow-y: scroll;\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n\r\n  & div {\r\n    margin-bottom: 3%;\r\n    & .announcement {\r\n      text-align: center;\r\n      margin-top: 80px;\r\n    }\r\n  }\r\n\r\n  /* & > div:nth-child(1) {\r\n    color: red;\r\n  } */\r\n  & div > div {\r\n    display: grid;\r\n    grid-template-columns: 5fr 1fr;\r\n    margin: 0;\r\n    width: 100%;\r\n    word-break: break-all;\r\n\r\n    div {\r\n      height: 100%;\r\n      width: 50%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledDate = styled.div`\r\n  font-size: 12px;\r\n`;\r\n\r\nconst Comments = ({ img, currentUser, imageRef }) => {\r\n  const sortedByComments =\r\n    img &&\r\n    img.comments.sort(function (a, b) {\r\n      return b.createdAt.seconds - a.createdAt.seconds;\r\n    });\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      {img && sortedByComments === 0 ? (\r\n        <p className=\"announcement\">There is no any comment</p>\r\n      ) : (\r\n        img &&\r\n        sortedByComments.map((comment, index) => (\r\n          <div key={index}>\r\n            <div>\r\n              <p>\r\n                <b>{comment.name} </b>\r\n                {comment.comment}\r\n              </p>\r\n              {currentUser && currentUser.uid === comment.userId && (\r\n                <CommentMenu comment={comment} imageRef={imageRef} />\r\n              )}\r\n            </div>\r\n            <StyledDate>\r\n              {moment(comment.createdAt.toDate()).startOf(\"minutes\").fromNow()}\r\n            </StyledDate>\r\n          </div>\r\n        ))\r\n      )}\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { addComment } from \"../../firebase/firestore\";\r\nimport SendSharpIcon from \"@material-ui/icons/SendSharp\";\r\n\r\nconst StyledWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  align-items: center;\r\n  border-top: 1px solid gray;\r\n`;\r\n\r\nconst StyledForm = styled.form`\r\n  margin: 1% 2%;\r\n`;\r\n\r\nconst StyledTextarea = styled.textarea`\r\n  width: 90%;\r\n  line-height: 1.5;\r\n  border: none;\r\n  font-family: \"Roboto\", sans-serif;\r\n  font-style: italic;\r\n  font-weight: 400;\r\n  box-shadow: none;\r\n  overflow-y: scroll;\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  &:focus {\r\n    outline: 0.3px;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 0;\r\n  transform: translate(0%, -50%);\r\n  border: 0;\r\n  background-color: inherit;\r\n  cursor: pointer;\r\n  color: darkgray;\r\n  transition: 0.3s;\r\n  :hover {\r\n    color: gray;\r\n  }\r\n`;\r\n\r\nconst AddComment = ({ currentUser, imageRef }) => {\r\n  const textareaRef = useRef();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    textareaRef.current.value !== \"\" &&\r\n      addComment(textareaRef.current.value, imageRef, currentUser);\r\n    textareaRef.current.value = \"\";\r\n  };\r\n\r\n  const handleFocus = () => {\r\n    !currentUser && history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledForm onSubmit={handleSubmit}>\r\n        <StyledTextarea\r\n          onFocus={handleFocus}\r\n          placeholder=\"Add comment ...\"\r\n          ref={textareaRef}\r\n          rows=\"3\"\r\n        ></StyledTextarea>\r\n        <StyledButton type=\"submit\">\r\n          <SendSharpIcon />\r\n        </StyledButton>\r\n      </StyledForm>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nexport default AddComment;\r\n","import { useState, useEffect } from \"react\";\r\nimport useFirestore from \"../../hooks/useFirestore\";\r\nimport { motion } from \"framer-motion\";\r\nimport styled from \"styled-components\";\r\nimport LikesAndComments from \"./Likes&Comments\";\r\nimport Comments from \"./Comments\";\r\nimport AddComment from \"./AddComment\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport { db } from \"../../firebase/config\";\r\nimport { doc } from \"firebase/firestore\";\r\n\r\nconst StyledBackdrop = styled.div`\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n`;\r\n\r\nconst StyledAnimation = styled(motion.div)`\r\n  position: relative;\r\n  margin: 20px auto;\r\n  width: 100%;\r\n  max-width: 756px;\r\n  max-height: 750px;\r\n  background: white;\r\n  overflow-x: hide;\r\n  overflow-y: scroll;\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n\r\n  box-shadow: 3px 5px 7px rgba(0, 0, 0, 0.3);\r\n  @media (max-width: 812px) and (orientation: landscape) {\r\n    max-width: 80vw;\r\n    max-height: 340px;\r\n  }\r\n  @media (max-width: 812px) and (orientation: portrait) {\r\n    max-height: 650px;\r\n  }\r\n`;\r\n\r\nconst StyledImg = styled.img`\r\n  //z-index: 2;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  //z-index: 2;\r\n  margin: 0px;\r\n  width: 100%;\r\n  min-height: 200px;\r\n  display: grid;\r\n  grid-template-rows: 40px minmax(auto, 230px) 70px;\r\n`;\r\n\r\nconst Modal = ({ setSelectedImg, selectedImg }) => {\r\n  const { docs } = useFirestore(\"images\");\r\n  const { currentUser } = useAuth();\r\n\r\n  const [image, setImage] = useState();\r\n\r\n  const imageRef = doc(db, \"images\", selectedImg.id);\r\n\r\n  const handleClick = () => {\r\n    setSelectedImg(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    docs.forEach((doc) => doc.id === selectedImg.id && setImage(doc));\r\n  }, [docs, selectedImg.id, image]);\r\n\r\n  return (\r\n    <StyledBackdrop>\r\n      <StyledAnimation initial={{ y: \"-100vh\" }} animate={{ y: 0 }}>\r\n        <StyledImg\r\n          src={selectedImg.url}\r\n          alt=\"enlarged pic\"\r\n          onClick={handleClick}\r\n        />\r\n        <Wrapper>\r\n          <LikesAndComments\r\n            img={image}\r\n            currentUser={currentUser}\r\n            imageRef={imageRef}\r\n          />\r\n          <Comments img={image} currentUser={currentUser} imageRef={imageRef} />\r\n          <AddComment\r\n            img={image}\r\n            currentUser={currentUser}\r\n            imageRef={imageRef}\r\n          />\r\n        </Wrapper>\r\n      </StyledAnimation>\r\n    </StyledBackdrop>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    fontFamily: \"Indie Flower, cursive\",\r\n    letterSpacing: \"6px\",\r\n    flexGrow: 1,\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n\r\n  bar: {\r\n    background: \"transparent\",\r\n    boxShadow: \"none\",\r\n  },\r\n\r\n  loginButton: {\r\n    textDecoration: \"none\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontFamily: \"Indie Flower, cursive\",\r\n    letterSpacing: \"3px\",\r\n    fontSize: \"18px\",\r\n  },\r\n  menu: {\r\n    fontFamily: \"Indie Flower, cursive\",\r\n    letterSpacing: \"3px\",\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const { currentUser, logout } = useAuth();\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  async function handleLogout(e) {\r\n    e.preventDefault();\r\n    try {\r\n      await logout();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" className={classes.bar}>\r\n          <Toolbar>\r\n            <Typography variant=\"body2\" className={classes.title}>\r\n              {currentUser && (\r\n                <>\r\n                  Hello <b>{currentUser.displayName}</b>\r\n                </>\r\n              )}\r\n            </Typography>\r\n            {currentUser ? (\r\n              <div>\r\n                <IconButton\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleMenu}\r\n                >\r\n                  <MoreIcon className={classes.profile} />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  open={open}\r\n                  onClose={handleClose}\r\n                >\r\n                  <MenuItem onClick={handleClose} className={classes.menu}>\r\n                    <Link to=\"/profile\">\r\n                      <b>Profile</b>\r\n                    </Link>\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={(e) => {\r\n                      handleClose();\r\n                      handleLogout(e);\r\n                    }}\r\n                    className={classes.menu}\r\n                  >\r\n                    <b>Logout</b>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </div>\r\n            ) : (\r\n              <Button>\r\n                <Link className={classes.loginButton} to=\"/login\">\r\n                  <b>Login</b>\r\n                </Link>\r\n              </Button>\r\n            )}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport UploadForm from \"../comps/UploadForm\";\r\nimport ImageGrid from \"../comps/ImageGrid\";\r\nimport Modal from \"../comps/Modal/Modal\";\r\nimport Navigation from \"./Navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  title: {\r\n    letterSpacing: \"12px\",\r\n    fontFamily: \"Amatic SC, cursive\",\r\n    fontWeight: \"700\",\r\n  },\r\n}));\r\n\r\nconst Gallery = () => {\r\n  const [selectedImg, setSelectedImg] = useState(null);\r\n  const { currentUser } = useAuth();\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Navigation />\r\n      <motion.div\r\n        className={classes.root}\r\n        initial={{ x: \"calc(-100vw - 50%)\" }}\r\n        animate={{ x: 0 }}\r\n        transition={{\r\n          type: \"spring\",\r\n          stiffness: 100,\r\n          delay: 0.2,\r\n        }}\r\n      >\r\n        <Typography\r\n          className={classes.title}\r\n          variant=\"h3\"\r\n          component=\"h2\"\r\n          style={{ color: red[600] }}\r\n        >\r\n          Photos Gallery\r\n        </Typography>\r\n      </motion.div>\r\n      {currentUser && <UploadForm />}\r\n      <ImageGrid setSelectedImg={setSelectedImg} />\r\n      {selectedImg && (\r\n        <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Container, Grid } from \"@material-ui/core\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minWidth: 300,\r\n    fontFamily: \"Roboto\",\r\n\r\n    fontWeight: 400,\r\n  },\r\n\r\n  container: {\r\n    minHeight: \"95vh\",\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nexport default function FormContainer({ children, loading }) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        <Grid\r\n          className={classes.container}\r\n          container\r\n          direction=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          display=\"flex\"\r\n        >\r\n          <Container maxWidth=\"sm\">\r\n            <motion.div\r\n              className={classes.motionDiv}\r\n              initial={{ x: \"calc(-100vw - 50%)\" }}\r\n              animate={{ x: 0 }}\r\n              transition={{\r\n                type: \"spring\",\r\n                stiffness: 100,\r\n                delay: 0.2,\r\n              }}\r\n            >\r\n              {children}\r\n            </motion.div>\r\n          </Container>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  TextField,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport FormContainer from \"../layouts/FormAnimation\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: { color: \"gray\" },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  text: {\r\n    ...theme.typography.button,\r\n    padding: theme.spacing(1),\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  input: {\r\n    padding: \"12px 0\",\r\n  },\r\n  alert: {\r\n    margin: \"12px 0\",\r\n  },\r\n}));\r\n\r\nconst Signup = () => {\r\n  const classes = useStyles();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const nameRef = useRef();\r\n  const passwordConfirmRef = useRef();\r\n  const { signup } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\");\r\n    }\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await signup(\r\n        emailRef.current.value,\r\n        nameRef.current.value,\r\n        passwordRef.current.value\r\n      );\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <FormContainer loading={loading}>\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            Sign Up\r\n          </Typography>\r\n          {error && (\r\n            <Alert className={classes.alert} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            autoComplete=\"off\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <FormGroup>\r\n              <TextField\r\n                type=\"email\"\r\n                label=\"Email\"\r\n                required\r\n                inputRef={emailRef}\r\n                className={classes.input}\r\n              />\r\n              <TextField\r\n                type=\"text\"\r\n                label=\"Name\"\r\n                required\r\n                inputRef={nameRef}\r\n                className={classes.input}\r\n              />\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                required\r\n                inputRef={passwordRef}\r\n                className={classes.input}\r\n              />\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password Confirmation\"\r\n                required\r\n                inputRef={passwordConfirmRef}\r\n                className={classes.input}\r\n              />\r\n            </FormGroup>\r\n            <Button\r\n              className={classes.button}\r\n              disabled={loading}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              type=\"submit\"\r\n            >\r\n              Sign Up\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n      <div className={classes.text} style={{ textAlign: \"left\" }}>\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  TextField,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport FormContainer from \"../layouts/FormAnimation\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: { color: \"gray\" },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  text: {\r\n    ...theme.typography.button,\r\n    padding: theme.spacing(1),\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  input: {\r\n    padding: \"12px 0\",\r\n  },\r\n  alert: {\r\n    margin: \"12px 0\",\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { login } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await login(emailRef.current.value, passwordRef.current.value);\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      setError(error.message);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormContainer loading={loading}>\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            Login\r\n          </Typography>\r\n          {error && (\r\n            <Alert className={classes.alert} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n            <FormGroup>\r\n              <TextField\r\n                type=\"email\"\r\n                label=\"Email\"\r\n                required\r\n                inputRef={emailRef}\r\n                id=\"standard-basic\"\r\n                className={classes.input}\r\n              />\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                required\r\n                inputRef={passwordRef}\r\n                className={classes.input}\r\n              />\r\n            </FormGroup>\r\n            <Button\r\n              className={classes.button}\r\n              disabled={loading}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              type=\"submit\"\r\n            >\r\n              Login\r\n            </Button>\r\n          </form>\r\n          <div className={classes.text}>\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n      <div className={classes.text} style={{ textAlign: \"left\" }}>\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n      <div className={classes.text}>\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Card, CardContent, Button, Typography } from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport FormContainer from \"../layouts/FormAnimation\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: { color: \"gray\" },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  text: {\r\n    ...theme.typography.button,\r\n    padding: theme.spacing(1),\r\n    width: \"100%\",\r\n  },\r\n\r\n  input: {\r\n    padding: \"12px 0\",\r\n  },\r\n  alert: {\r\n    margin: \"12px 0\",\r\n  },\r\n}));\r\n\r\nconst Profile = () => {\r\n  const classes = useStyles();\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const { currentUser, logout } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n    setLoading(true);\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"Failed to log out\");\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <FormContainer loading={loading}>\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            Profile\r\n          </Typography>\r\n          {error && (\r\n            <Alert className={classes.alert} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <Typography variant=\"body1\">\r\n            Email: {currentUser && currentUser.email}\r\n          </Typography>\r\n          <div className={classes.text}>\r\n            <Link to=\"/update-profile\">Update Profile</Link>\r\n          </div>\r\n        </CardContent>\r\n        <Button\r\n          onClick={handleLogout}\r\n          className={classes.button}\r\n          disabled={loading}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          type=\"submit\"\r\n        >\r\n          Log Out\r\n        </Button>\r\n      </Card>\r\n      <div className={classes.text}>\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  Grid,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  TextField,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minWidth: 300,\r\n    color: \"gray\",\r\n  },\r\n\r\n  container: {\r\n    minHeight: \"95vh\",\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n    fontFamily: \"Indie Flower, cursive\",\r\n    letterSpacing: \"3px\",\r\n  },\r\n\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n\r\n  text: {\r\n    ...theme.typography.button,\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(1),\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  input: {\r\n    padding: \"12px 0\",\r\n  },\r\n  alert: {\r\n    margin: \"12px 0\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nconst ForgotPassword = () => {\r\n  const classes = useStyles();\r\n  const emailRef = useRef();\r\n  const { resetPassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setMessage(\"\");\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await resetPassword(emailRef.current.value);\r\n      setMessage(\"Check your inbox for further instructions\");\r\n    } catch {\r\n      setError(\"Failed to reset password\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      </div>\r\n      <Grid\r\n        className={classes.container}\r\n        container\r\n        direction=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        display=\"flex\"\r\n      >\r\n        <Container maxWidth=\"sm\">\r\n          <motion.div\r\n            className={classes.motionDiv}\r\n            initial={{ x: \"calc(-100vw - 50%)\" }}\r\n            animate={{ x: 0 }}\r\n            transition={{\r\n              type: \"spring\",\r\n              stiffness: 100,\r\n              delay: 0.2,\r\n            }}\r\n          >\r\n            <Card className={classes.root} variant=\"outlined\">\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  Password Reset\r\n                </Typography>\r\n                {error && (\r\n                  <Alert className={classes.alert} severity=\"error\">\r\n                    {error}\r\n                  </Alert>\r\n                )}\r\n                {message && (\r\n                  <Alert className={classes.alert} severity=\"success\">\r\n                    {message}\r\n                  </Alert>\r\n                )}\r\n                <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n                  <FormGroup>\r\n                    <TextField\r\n                      type=\"email\"\r\n                      label=\"Email\"\r\n                      required\r\n                      inputRef={emailRef}\r\n                      id=\"standard-basic\"\r\n                      className={classes.input}\r\n                    />\r\n                  </FormGroup>\r\n                  <Button\r\n                    className={classes.button}\r\n                    disabled={loading}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Reset Password\r\n                  </Button>\r\n                </form>\r\n                <div className={classes.text}>\r\n                  <Link to=\"/login\">Login</Link>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n            <div className={classes.text} style={{ textAlign: \"left\" }}>\r\n              <Link to=\"/\">Cancel</Link>\r\n            </div>\r\n            <div className={classes.text}>\r\n              Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n            </div>\r\n          </motion.div>\r\n        </Container>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Typography,\r\n  TextField,\r\n  FormGroup,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport FormContainer from \"../layouts/FormAnimation\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: { color: \"gray\" },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    justifyContent: \"flex-start\",\r\n  },\r\n\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n\r\n  text: {\r\n    ...theme.typography.button,\r\n    padding: theme.spacing(1),\r\n  },\r\n\r\n  input: {\r\n    padding: \"12px 0\",\r\n  },\r\n  alert: {\r\n    margin: \"12px 0\",\r\n  },\r\n}));\r\n\r\nconst UpdateProfile = () => {\r\n  const classes = useStyles();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const nameRef = useRef();\r\n\r\n  const passwordConfirmRef = useRef();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const {\r\n    currentUser,\r\n    updateUserPassword,\r\n    updateUserEmail,\r\n    updateDisplayName,\r\n  } = useAuth();\r\n\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\");\r\n    }\r\n    const promises = [];\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateUserEmail(emailRef.current.value));\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updateUserPassword(passwordRef.current.value));\r\n    }\r\n    if (nameRef.current.value !== currentUser.displayName) {\r\n      promises.push(updateDisplayName(nameRef.current.value));\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error.message);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <FormContainer loading={loading}>\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Typography variant=\"h5\" component=\"h2\">\r\n            Update Profile\r\n          </Typography>\r\n          {error && (\r\n            <Alert className={classes.alert} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            autoComplete=\"off\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <FormGroup>\r\n              <TextField\r\n                type=\"email\"\r\n                label=\"Email\"\r\n                required\r\n                inputRef={emailRef}\r\n                className={classes.input}\r\n                defaultValue={currentUser && currentUser.email}\r\n              />\r\n              <TextField\r\n                type=\"text\"\r\n                label=\"Name\"\r\n                required\r\n                inputRef={nameRef}\r\n                className={classes.input}\r\n                defaultValue={currentUser && currentUser.displayName}\r\n              />\r\n\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                required\r\n                inputRef={passwordRef}\r\n                className={classes.input}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password Confirmation\"\r\n                required\r\n                inputRef={passwordConfirmRef}\r\n                className={classes.input}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </FormGroup>\r\n            <Button\r\n              className={classes.button}\r\n              disabled={loading}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              type=\"submit\"\r\n            >\r\n              Update\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n      <div className={classes.text}>\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default UpdateProfile;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Gallery from \"./comps/Gallery\";\r\nimport Signup from \"./comps/Signup\";\r\nimport Login from \"./comps/Login\";\r\nimport Profile from \"./comps/Profile\";\r\nimport ForgotPassword from \"./comps/ForgotPassword\";\r\nimport UpdateProfile from \"./comps/UpdateProfile\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { ProvideAuth } from \"./hooks/useAuth\";\r\nimport PrivateRoute from \"./comps/PrivateRoute\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"lg\">\r\n        <Router>\r\n          <ProvideAuth>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Gallery} />\r\n              <Route path=\"/signup\" component={Signup} />\r\n              <Route path=\"/login\" component={Login} />\r\n              <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n              <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n              <PrivateRoute\r\n                path=\"/forgot-password\"\r\n                component={ForgotPassword}\r\n              />\r\n            </Switch>\r\n          </ProvideAuth>\r\n        </Router>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}